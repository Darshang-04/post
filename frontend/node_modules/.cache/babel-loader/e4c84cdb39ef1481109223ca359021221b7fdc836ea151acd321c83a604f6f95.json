{"ast":null,"code":"import React,{useState,useContext}from'react';import logo from'../img/welcomecut.jfif';import'../css/Signin.css';import{json,Link,useNavigate}from'react-router-dom';import{toast}from'react-toastify';import{LoginContext}from'../context/LoginContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Signin(){const{setUserLogin}=useContext(LoginContext);const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const navigate=useNavigate();const notifyE=msg=>toast.error(msg);const notifyS=msg=>toast.success(msg);const loginData=()=>{fetch(\"/signin\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})}).then(res=>res.json()).then(data=>{if(data.error){notifyE(data.error);}else{notifyS(\"Signin successfully!!\");localStorage.setItem(\"token\",data.token);localStorage.setItem(\"user\",JSON.stringify(data.user));setUserLogin(true);navigate('/');}console.log(data);});};return/*#__PURE__*/_jsx(\"div\",{className:\"Signin\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loginform\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"signinlogo\",src:logo,alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",value:email,onChange:e=>{setEmail(e.target.value);},placeholder:\"enter your email\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"password\",value:password,onChange:e=>{setPassword(e.target.value);},placeholder:\"enter your password\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Signin\",onClick:()=>{loginData();},id:\"submit\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"loginpara\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:/*#__PURE__*/_jsx(\"span\",{className:\"span\",children:\"Sign Up\"})})]})]})});}","map":{"version":3,"names":["React","useState","useContext","logo","json","Link","useNavigate","toast","LoginContext","jsx","_jsx","jsxs","_jsxs","Signin","setUserLogin","email","setEmail","password","setPassword","navigate","notifyE","msg","error","notifyS","success","loginData","fetch","method","headers","body","JSON","stringify","then","res","data","localStorage","setItem","token","user","console","log","className","children","src","alt","type","name","id","value","onChange","e","target","placeholder","onClick","to"],"sources":["D:/react/AD/proj-clone-main/frontend/src/components/Signin.js"],"sourcesContent":["import React, {useState, useContext} from 'react'\nimport logo from '../img/welcomecut.jfif'\nimport '../css/Signin.css'\nimport { json ,Link, useNavigate } from 'react-router-dom'\nimport { toast } from 'react-toastify';\nimport { LoginContext } from '../context/LoginContext';\n\nexport default function Signin() {\n  const {setUserLogin}=useContext(LoginContext)\n  const [email,setEmail] = useState(\"\")\n  const [password,setPassword] = useState(\"\")\n\n  const navigate = useNavigate()\n\n  const notifyE=(msg)=>toast.error(msg);\n  const notifyS=(msg)=>toast.success(msg);\n\n  const loginData =()=> {\n    fetch(\"/signin\",{\n      method:\"post\",\n      headers:{\n        \"Content-Type\":\"application/json\"\n    },\n    body:JSON.stringify({\n        email:email,\n        password:password\n    })\n}).then(res=>res.json())\n.then(data=>{\n    if(data.error){\n        notifyE(data.error ) \n    }else{\n        notifyS(\"Signin successfully!!\")\n        localStorage.setItem(\"token\", data.token)\n        localStorage.setItem(\"user\", JSON.stringify(data.user))\n        setUserLogin(true)\n        navigate('/')\n    }\n    console.log(data)\n    })\n  }\n  return (\n    <div className='Signin'>\n        <div className=\"loginform\">\n          <img className='signinlogo' src={logo} alt=\"\" />\n          <div>\n            <input type=\"email\" name=\"email\" id=\"email\" value={email} onChange={(e)=>{setEmail(e.target.value)}} placeholder='enter your email'/>\n          </div>\n          <div>\n            <input type=\"password\" name=\"password\" id=\"password\" value={password} onChange={(e)=>{setPassword(e.target.value)}} placeholder='enter your password'/>\n          </div>\n          <input type=\"submit\" value='Signin' onClick={()=>{loginData()}} id='submit' />\n          <p className=\"loginpara\">Don't have an account? <Link to=\"/signup\"><span className='span'>Sign Up</span></Link></p>\n        </div>\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}