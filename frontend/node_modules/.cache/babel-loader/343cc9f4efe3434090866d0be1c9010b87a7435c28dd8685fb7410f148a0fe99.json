{"ast":null,"code":"import React from\"react\";import\"../css/PostDetail.css\";import{useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PostDetail(_ref){let{item,toggleshow}=_ref;const navigate=useNavigate();// Toast functions\nconst notifyA=msg=>toast.error(msg);const notifyB=msg=>toast.success(msg);const removePost=postId=>{if(window.confirm(\"Do you really want to delete this post ?\")){fetch(\"/deletePost/\".concat(postId),{method:\"delete\",headers:{Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(res=>res.json()).then(result=>{console.log(result);toggleshow();navigate(\"/\");notifyB(result.message);});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"showComment\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"postPic\",children:/*#__PURE__*/_jsx(\"img\",{src:item.photo,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",style:{borderBottom:\"1px solid #00000029\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-pic\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8cGVyc29ufGVufDB8MnwwfHw%3D&auto=format&fit=crop&w=500&q=60\",alt:\"\"})}),/*#__PURE__*/_jsx(\"h5\",{children:item.postedBy.name}),/*#__PURE__*/_jsx(\"div\",{className:\"deletePost\",onClick:()=>{removePost(item._id);},children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"delete\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"comment-section\",style:{borderBottom:\"1px solid #00000029\"},children:item.comments.map(comment=>{return/*#__PURE__*/_jsxs(\"p\",{className:\"comm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"commenter\",style:{fontWeight:\"bolder\"},children:[comment.postedBy.name,\" \"]}),/*#__PURE__*/_jsx(\"span\",{className:\"commentText\",children:comment.comment})]});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[item.likes.length,\" Likes\"]}),/*#__PURE__*/_jsx(\"p\",{children:item.body})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-comment\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"mood\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add a comment\"//   value={comment}\n//   onChange={(e) => {\n//     setComment(e.target.value);\n//   }}\n}),/*#__PURE__*/_jsx(\"button\",{className:\"comment\"//   onClick={() => {\n//     makeComment(comment, item._id);\n//     toggleComment();\n//   }}\n,children:\"Post\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"close-comment\",onClick:()=>{toggleshow();},children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined material-symbols-outlined-comment\",children:\"close\"})})]});}","map":{"version":3,"names":["React","useNavigate","toast","jsx","_jsx","jsxs","_jsxs","PostDetail","_ref","item","toggleshow","navigate","notifyA","msg","error","notifyB","success","removePost","postId","window","confirm","fetch","concat","method","headers","Authorization","localStorage","getItem","then","res","json","result","console","log","message","className","children","src","photo","alt","style","borderBottom","postedBy","name","onClick","_id","comments","map","comment","fontWeight","likes","length","body","type","placeholder"],"sources":["D:/react/AD/proj-clone-main/frontend/src/components/PostDetail.js"],"sourcesContent":["import React from \"react\";\nimport \"../css/PostDetail.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nexport default function PostDetail({ item, toggleshow }) {\n  const navigate = useNavigate();\n\n  // Toast functions\n  const notifyA = (msg) => toast.error(msg);\n  const notifyB = (msg) => toast.success(msg);\n\n  const removePost = (postId) => {\n    if (window.confirm(\"Do you really want to delete this post ?\")) {\n      fetch(`/deletePost/${postId}`, {\n        method: \"delete\",\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n      })\n        .then((res) => res.json())\n        .then((result) => {\n          console.log(result);\n          toggleshow();\n          navigate(\"/\");\n          notifyB(result.message);\n        });\n    }\n  };\n\n  return (\n    <div className=\"showComment\">\n      <div className=\"container\">\n        <div className=\"postPic\">\n          <img src={item.photo} alt=\"\" />\n        </div>\n        <div className=\"details\">\n          {/* card header */}\n          <div\n            className=\"card-header\"\n            style={{ borderBottom: \"1px solid #00000029\" }}\n          >\n            <div className=\"card-pic\">\n              <img\n                src=\"https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8cGVyc29ufGVufDB8MnwwfHw%3D&auto=format&fit=crop&w=500&q=60\"\n                alt=\"\"\n              />\n            </div>\n            <h5>{item.postedBy.name}</h5>\n            <div\n              className=\"deletePost\"\n              onClick={() => {\n                removePost(item._id);\n              }}\n            >\n              <span className=\"material-symbols-outlined\">delete</span>\n            </div>\n          </div>\n\n          {/* commentSection */}\n          <div\n            className=\"comment-section\"\n            style={{ borderBottom: \"1px solid #00000029\" }}\n          >\n            {item.comments.map((comment) => {\n              return (\n                <p className=\"comm\">\n                  <span className=\"commenter\" style={{ fontWeight: \"bolder\" }}>\n                    {comment.postedBy.name}{\" \"}\n                  </span>\n                  <span className=\"commentText\">{comment.comment}</span>\n                </p>\n              );\n            })}\n          </div>\n\n          {/* card content */}\n          <div className=\"card-content\">\n            <p>{item.likes.length} Likes</p>\n            <p>{item.body}</p>\n          </div>\n\n          {/* add Comment */}\n          <div className=\"add-comment\">\n            <span className=\"material-symbols-outlined\">mood</span>\n            <input\n              type=\"text\"\n              placeholder=\"Add a comment\"\n            //   value={comment}\n            //   onChange={(e) => {\n            //     setComment(e.target.value);\n            //   }}\n            />\n            <button\n              className=\"comment\"\n            //   onClick={() => {\n            //     makeComment(comment, item._id);\n            //     toggleComment();\n            //   }}\n            >\n              Post\n            </button>\n          </div>\n        </div>\n      </div>\n      <div\n        className=\"close-comment\"\n        onClick={() => {\n          toggleshow();\n        }}\n      >\n        <span className=\"material-symbols-outlined material-symbols-outlined-comment\">\n          close\n        </span>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}